"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[14389],{173777:(e,t,i)=>{i.d(t,{SEPARATOR_PREFIX:()=>s});const s="###"},66974:(e,t,i)=>{function s(e=location.host){return-1!==["i18n.tradingview.com","partial.tradingview.com","www.tradingview.com","wwwcn.tradingview.com"].indexOf(e)||-1!==["d33t3vvu2t2yu5.cloudfront.net","dwq4do82y8xi7.cloudfront.net","s.tradingview.com","s3.tradingview.com"].indexOf(e)||e.match(/^[a-z]{2}\.tradingview\.com/)||e.match(/prod-[^.]+.tradingview.com/)?"battle":e.includes("tradingview.com")||e.includes("staging")?"staging":e.match(/webcharts/)?"staging_local":(e.match(/^localhost(:\d+)?$/),"local")}function n(){return"local"===s()}function r(){return"battle"===s()}function o(){return!r()}i.r(t),i.d(t,{environment:()=>s,isDebug:()=>o,isLocal:()=>n,isProd:()=>r})},778016:(e,t,i)=>{i.d(t,{enabled:()=>_,getConfig:()=>l});i(650151);var s=i(409352),n=i(102710),r=i(833813),o=i(822122),a=i(255453);function _(e,t,i){let s=window.user;i&&(s=i);const n=l(e,t,s);return!!n&&!(n[r.ProductFeatures.DISABLE_ON_TRIAL]&&(!s||s.is_trial))}function c(e){const t=s[e];return t?t.extends?Object.assign({},c(t.extends),t):t:null}function l(e,t,i){var s;let r=c(t||function(e){let t=window.user;e&&(t=e);let i=(null==t?void 0:t.pro_plan)||o.ProPlans.Free;const s=i!==o.ProPlans.Free&&!(0,a.isTrialProduct)(i);return s||(i=(0,a.getProductForTrial)(i)),s&&t&&!t.new_pro_product_line&&(i=`__legacy_${i}`),i}(i));if(!r)return null;const _=null===(s=window.TradingView)||void 0===s?void 0:s.widgetCustomer;return _&&n[_]&&(r=Object.assign({},r,n[_])),r&&r[e]||null}},833813:(e,t,i)=>{var s;i.d(t,{ProductFeatures:()=>s}),function(e){e.DISABLE_ON_TRIAL="disable_on_trial",e.CUSTOM_INTERVALS="CUSTOM_INTERVALS",e.CHART_STORAGE="CHART_STORAGE",e.MULTIPLE_CHARTS="MULTIPLE_CHARTS",e.MULTIPLE_WATCHLISTS="MULTIPLE_WATCHLISTS",e.IMPORT_WATCHLISTS="IMPORT_WATCHLISTS",e.EXPORT_WATCHLISTS="EXPORT_WATCHLISTS",e.WATCHLIST_SYMBOLS="WATCHLIST_SYMBOLS",e.INDICATORS_ON_CHART="INDICATORS_ON_CHART",e.STUDY_ON_STUDY="STUDY_ON_STUDY",e.TICK_BY_TICK_PUSH_DATA="TICK_BY_TICK_PUSH_DATA",e.SERVER_SIDE_ALERTS="SERVER_SIDE_ALERTS",e.PUBLISH_INVITE_ONLY_SCRIPTS="PUBLISH_INVITE_ONLY_SCRIPTS",e.PUBLISH_PROTECTED_SCRIPTS="PUBLISH_PROTECTED_SCRIPTS",e.SCREENER_ALERTS="SCREENER_ALERTS",e.SCREENER_AUTO_REFRESH="SCREENER_AUTO_REFRESH",e.SCREENER_EXPORT_DATA="SCREENER_EXPORT_DATA",e.SCREENER_INTERVALS="SCREENER_INTERVALS",e.SCREENER_NEW_AUTO_REFRESH="SCREENER_NEW_AUTO_REFRESH",e.SCREENER_NEW_EXPORT_CSV_DATA="SCREENER_NEW_EXPORT_CSV_DATA",e.SIMULTANEOUS_CONNECTIONS="SIMULTANEOUS_CONNECTIONS",e.BACKEND_CONNECTIONS="BACKEND_CONNECTIONS",e.STUDY_TEMPLATES="STUDY_TEMPLATES",e.CAN_EDIT_PUBLIC_CHATS="CAN_EDIT_PUBLIC_CHATS",e.NO_SPONSORED_ADS="NO_SPONSORED_ADS",e.IDC_AVAILABLE_DELAY="IDC_AVAILABLE_DELAY",e.STATUS="STATUS",e.ALERTS_NO_EXPIRATION="ALERTS_NO_EXPIRATION",e.MULTIFLAGGED_SYMBOLS_LISTS="MULTIFLAGGED_SYMBOLS_LISTS",e.BAR_REPLAY_INTRADAY="BAR_REPLAY_INTRADAY",e.TV_VOLUMEBYPRICE="TV_VOLUMEBYPRICE",e.ALERTS_WEBHOOK="ALERTS_WEBHOOK",
e.DEEP_FUNDAMENTALS_HISTORY="DEEP_FUNDAMENTALS_HISTORY",e.EXPORT_CHART_DATA="EXPORT_CHART_DATA",e.ALERTS_ON_SECONDS="ALERTS_ON_SECONDS",e.PERMANENT_STREAM_RECORDS="PERMANENT_STREAM_RECORDS",e.IDEA_SOCIAL_LINKS="IDEA_SOCIAL_LINKS",e.EXTENDED_SOCIAL_LINKS="EXTENDED_SOCIAL_LINKS",e.DEEP_HISTORY_BACKTEST="DEEP_HISTORY_BACKTEST",e.BACKTESTING_EXPORT="BACKTESTING_EXPORT",e.USE_BAR_MAGNIFIER="USE_BAR_MAGNIFIER",e.HISTORICAL_BARS="HISTORICAL_BARS",e.KAGI_RENKO="KAGI_RENKO",e.INTRADAY_SPREAD="INTRADAY_SPREAD",e.SECONDS_INTERVALS="SECONDS_INTERVALS",e.MULTICOLOR_FLAGGED_SYMBOLS="MULTICOLOR_FLAGGED_SYMBOLS",e.INTRADAY_EXCHANGE="INTRADAY_EXCHANGE",e.CUSTOM_CHATS="CUSTOM_CHATS",e.VOLUME_PROFILE="VOLUME_PROFILE",e.PRIMITIVE_ALERTS="PRIMITIVE_ALERTS",e.COMPLEX_ALERTS="COMPLEX_ALERTS",e.TV_PROSTUDIES="TV_PROSTUDIES",e.CHART_PATTERNS="CHART_PATTERNS",e.SMS_2FA_VERIFICATION="SMS_2FA_VERIFICATION",e.SOCIAL_ACTIVITY="SOCIAL_ACTIVITY"}(s||(s={}))},251954:(e,t,i)=>{i.d(t,{emit:()=>c,subscribe:()=>_,unsubscribe:()=>a});var s=i(707957);const n={},r=[],o={};function a(e,t,i){n[e].unsubscribe(i,t)}function _(e,t,i,r){n.hasOwnProperty(e)||(n[e]=new s.Delegate),o[e]?t.call(i):n[e].subscribe(i,t,r)}function c(e,...t){const i=[e].concat(t);r.forEach((e=>{e.apply(null,i)})),n.hasOwnProperty(e)&&n[e].fire.apply(n[e],t)}},588948:(e,t,i)=>{i.d(t,{getInitData:()=>a,updateInitData:()=>o});var s=i(650151);const n=(0,i(201089).getLogger)("Common.InitData"),r=window.initData||{};function o(){window.initData&&window.initData!==r&&(Object.assign(r,window.initData),window.initData=r);const e=document.querySelectorAll('script[type="application/prs.init-data+json"]');for(let t=0;t<e.length;t++){const i=e[t];try{const e=JSON.parse((0,s.ensureNotNull)(i.textContent));Object.assign(r,e)}catch(e){n.logWarn(`Failed to parse initData element. ${e}`)}finally{(0,s.ensureNotNull)(i.parentNode).removeChild(i)}}}function a(){return r}},519073:(e,t,i)=>{function s(e){return e.includes("crypto")}i.d(t,{hasCryptoTypespec:()=>s})},175203:(e,t,i)=>{i.d(t,{telemetry:()=>l});var s=i(707957),n=i(120780),r=i(638456),o=i(314802);i(659863);const a=(0,i(201089).getLogger)("Common.Telemetry"),_={default:15e3,site:3e5},c=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const l=new class{constructor(){this.reportSent=new s.Delegate,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,i){var s;if(!this._isAbleToSendReport(t))return;const n=this._getSubserviceType(e),r=this._getHost(e,n);if(null!==r){if(i=void 0===i?{count:1}:i,this._addReportToStash(i,t,r),!this._timeoutIds[e]){const t=null!==(s=_[e])&&void 0!==s?s:_.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,r),t)}
}else a.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${n}`)}sendChartReport(e,t,i=!0){this._sendServiceSpecifiedReport("charts",e,t,i)}sendLineToolsStorageReport(e,t,i=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,i)}_sendServiceSpecifiedReport(e,t,i,s=!0){this._updateUserInfo(),i=void 0===i?{count:1}:i,s&&(i=this._appendCommonAdditionalInfo(i,["cluster","userId"])),this.sendReport(e,t,i)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,i=c.includes(e),s=Boolean(window.TradingView.onChartPage||(0,r.onWidget)());return t&&(!i||s)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),i=this._renameAllParams(e),s={event:"report_stash",params:this._cleanAllParams(i)};a.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,n.fetch)(`${t}/report`,{method:"POST",body:JSON.stringify(s)})}this._timeoutIds[e]=null}_getHost(e,t){const i=window.TELEMETRY_HOSTS,s=i[e]&&i[e][t];return Boolean(s)?s:null}_getSubserviceType(e){if(!["charts","site"].includes(e))return"all";let t="free";const i=window.user.is_pro;return"charts"===e&&(0,o.isOnMobileAppPage)("old")?t=i?"ios_pro":"ios_free":"charts"===e&&(0,o.isOnMobileAppPage)("new")?t=i?"android_pro":"android_free":(0,r.onWidget)()?t="widget":i&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return a.logError("Could not parse cluster id (session id)"),null}const i=/(.*@)(.*)/gi.exec(t);return null!==i&&i.length>=3?i[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach((t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])})),e}_cropParams(e){var t;for(const i in e)e.hasOwnProperty(i)&&e[i].length>1e3&&(e.too_much_metrics_frame=null!==(t=e.too_much_metrics_frame)&&void 0!==t?t:[],e.too_much_metrics_frame.push({value:e[i].length,additional:{event:i}}),delete e[i]);return e}_renameAllParams(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=[],e[i].forEach((e=>{t[i].push(this._renameEntryParams(e))})));return t}_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(((i,s)=>(i[t[s]]=e[s],i)),{})}_cleanAllParams(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){t[i]=[];const s={c:0};e[i].forEach((e=>{const n=this._cleanEntryParams(e),r=Object.keys(n).length;1===r&&void 0!==n.c?s.c+=n.c:r>0&&t[i].push(n)})),s.c>0&&t[i].push(s),0===t[i].length&&delete t[i]}return t}_cleanEntryParams(e){const t=Object.keys(e).reduce(((t,i)=>"c"!==i&&"t"!==i||e[i]?(t[i]=e[i],t):t),{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,i){i in this._reportStash||(this._reportStash[i]={}),t in this._reportStash[i]||(this._reportStash[i][t]=[]),Object.keys(e).length>0&&this._reportStash[i][t].push(e)}}},
779923:(e,t,i)=>{async function s(e,t){const s=await Promise.all([i.e(22666),i.e(62253),i.e(92108),i.e(9817),i.e(92191),i.e(34465),i.e(69121),i.e(66639),i.e(88194),i.e(30006),i.e(26855),i.e(43610),i.e(96899),i.e(12305),i.e(745),i.e(29772),i.e(38890)]).then(i.bind(i,894185));return s.showSimpleDialog(e,s.warningModule,t)}i.d(t,{showWarning:()=>s})},889267:(e,t,i)=>{var s=i(244842),n=i(173777);const r={number:/\d+(?:\.\d*|(?![a-zA-Z0-9_!:.&]))|\.\d+/,incompleteNumber:/\./,symbol:s.enabled("charting_library_base")?/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:.&])*|'.+?'/:/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:.&])*|'.+?'/,incompleteSymbol:/'[^']*/,separatorPrefix:n.SEPARATOR_PREFIX,openBrace:"(",closeBrace:")",plus:"+",minus:"-",multiply:"*",divide:"/",power:"^",whitespace:/[\0-\x20\s]+/,unparsed:null};new RegExp(Object.values(r).map((e=>{return null===e?"":`(${"string"==typeof e?(t=e,t.replace(/[\^$()[\]{}*+?|\\]/g,"\\$&")):e.source})`;var t})).filter((e=>""!==e)).concat(".").join("|"),"g")},799402:(e,t,i)=>{i.d(t,{AuthToken:()=>a});var s=i(707957),n=i(201089),r=i(120780);const o=(0,n.getLogger)("ChartApi.AuthToken",{color:"#173"});class a{constructor(){this.invalidated=new s.Delegate,this._tid=0,window.loginStateChange||(window.loginStateChange=new s.Delegate),window.loginStateChange.subscribe(this,(e=>{e||(this._set(window.user.auth_token),this.invalidated.fire())})),this._set(window.user.auth_token)}get(e){return window.is_authenticated?!e&&performance.now()<this._cache.monoValidThru&&Date.now()<this._cache.wallValidThru?(o.logInfo(`Using cached token ${this._cache.token}`),Promise.resolve(this._cache.token)):this._fetch(Boolean(e),0).then((e=>{if(!window.is_authenticated)throw new Error("User logged out while the request was in flight");return this._set(e),e})).catch((e=>(o.logError(`Error fetching new token: ${e&&e.message}`),""))):Promise.resolve("")}reset(){this._set(void 0),this.invalidated.fire()}_set(e){if(window.is_authenticated&&void 0!==e){const t=function(e){if(""===e)return 144e5;try{const t=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),i=1e3*(t.exp-t.iat);if(!isFinite(i))throw new Error("invalid expiration");return Math.max(i-3e5,3e5)}catch(t){return o.logError(`${e} is invalid: ${t.message}`),144e5}}(e);this._cache={token:e,monoValidThru:performance.now()+t,wallValidThru:Date.now()+t},clearTimeout(this._tid),this._tid=setTimeout((()=>this.reset()),t),o.logInfo(`Cached for ${t} ms: ${e}`)}else this._cache={token:"",monoValidThru:-1/0,wallValidThru:-1/0},clearTimeout(this._tid),o.logInfo("Cache dropped")}_fetch(e,t){return o.logNormal(`Fetching a new token, grabSession=${e}`),(0,r.fetch)("/quote_token/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e?"grabSession=true":""}).then((e=>{if(!e.ok)throw new Error(`Response status is not ok: ${e.status}`);return e.json().then(String)}),(i=>{
if(t>=3)throw i;return o.logWarn("Request failed, will retry"),function(e){return new Promise((t=>setTimeout(t,1e3*e)))}(t).then((()=>this._fetch(e,t+1)))}))}}},315347:(e,t,i)=>{var s,n;i.d(t,{TIMEFRAMETYPE:()=>n}),function(e){e.extractErrorReason=function(e){return e.params[1]}}(s||(s={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(n||(n={}))},6613:(e,t,i)=>{i.r(t),i.d(t,{QUOTE_FIELDS:()=>r,QUOTE_FIELDS_CACHE:()=>o,QuoteCache:()=>n});var s=i(650151);class n{constructor(e){this._cache=new Map,this._fields=[...e.fields]}update(e,t,i){const n=(0,s.ensureDefined)(e.symbolname);if(this._cache.has(n)||this._cache.set(n,{symbolname:n,status:e.status,values:{}}),"error"===e.status)return;const r=(0,s.ensureDefined)(this._cache.get(n));r.status=e.status;for(const s of this._fields)t.has(s)&&(i||void 0!==e.values[s])&&(r.values[s]=e.values[s])}get(e){var t;return null!==(t=this._cache.get(e))&&void 0!==t?t:null}fields(){return this._fields}}
const r=new Set(["pro_name","base_name","logoid","currency-logoid","base-currency-logoid","source-logoid","short_name","timezone","current_session","last_price","lp_time","prev_close_price","open_price","high_price","low_price","price_52_week_high","price_52_week_low","ask","ask_size","bid","bid_size","rch","rchp","rtc","data_frequency","reference-last-period-start","business_description","web_site_url","number_of_employees","float_shares_outstanding","earnings_release_next_calendar_date","root","description","exchange","listed_exchange","type","country_code","provider_id","sector","typespecs","visible-plots-set","industry","currency_id","last_price","fractional","minmov","minmove2","pricescale","change","change_percent","volume","average_volume","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_release_date","earnings_per_share_fq","fundamental_currency_code","number_of_employees","web_site_url","business_description","founded","ceo","float_shares_outstanding","total_shares_outstanding","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","total_revenue_fq_h","total_revenue_fy_h","net_income_fy_h","net_income_fq_h","total_assets_fy_h","total_assets_fq_h","total_liabilities_fy_h","total_liabilities_fq_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","fiscal_period_fy_h","fiscal_period_fq_h","earnings_release_date_fq_h","earnings_release_next_date_fq","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_fq_h","earnings_per_share_fq_h","earnings_fiscal_period_fq_h","next_earnings_fiscal_period_fq","earnings_release_next_time","is_next_earnings_release_date_estimated","symbol-primaryname","currency_code","rates_mc","rates_fy","rates_ttm","value_unit_id","value-unit-id","update_mode","language","local_description","short_description","source","source2","format","recommendation_mark","last_report_frequency","price_target_estimates_num","price_target_average","update_mode_seconds","recommendation_total","recommendation_buy","recommendation_over","recommendation_hold","recommendation_under","recommendation_sell","recommendation_total","price_target_high","price_target_low","rates_pt","rates_pt","total_revenue_fy_h","total_revenue_fq_h","total_revenue_fh_h","net_income_fy_h","net_income_fq_h","net_income_fh_h","total_assets_fy_h","total_assets_fq_h","total_assets_fh_h","total_liabilities_fy_h","total_liabilities_fq_h","total_liabilities_fh_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_operating_activities_fh_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_investing_activities_fh_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","cash_f_financing_activities_fh_h","fiscal_period_fy_h","fiscal_period_fq_h","fiscal_period_fh_h","fiscal_period_fy","earnings_release_date_fq_h","earnings_release_date_fy_h","earnings_release_date_fh_h","earnings_release_next_date_fq","earnings_release_next_date_fy","earnings_release_next_date_fh","earnings_release_next_time","is_next_earnings_release_date_estimated","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_next_fy","earnings_per_share_forecast_next_fh","earnings_per_share_forecast_fq_h","earnings_per_share_forecast_fy_h","earnings_per_share_forecast_fh_h","earnings_per_share_fq_h","earnings_per_share_fy_h","earnings_per_share_fh_h","earnings_fiscal_period_fq_h","earnings_fiscal_period_fy_h","earnings_fiscal_period_fh_h","next_earnings_fiscal_period_fq","next_earnings_fiscal_period_fy","next_earnings_fiscal_period_fh","revenue_fq_h","revenue_fy_h","revenue_fh_h","revenue_forecast_fq_h","revenue_forecast_fy_h","revenue_forecast_fh_h","revenue_forecast_next_fq","revenue_forecast_next_fy","revenue_forecast_next_fh","revenue_seg_by_business_h","revenue_seg_by_region_h","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","dividend_amount_h","total_revenue_fy","gross_profit_fy","ebitda_fy","ebit_fy","net_income_fy","total_debt_fy_h","free_cash_flow_fy_h","cash_n_equivalents_fy_h","total_current_assets_fy","total_current_liabilities_fy","total_non_current_assets_fy","total_non_current_liabilities_fy","price_sales_fy_h","price_earnings_fy_h","diluted_net_income_ttm","total_revenue_ttm","price_earnings_current","price_sales_current","isin","website","doc","reddit","twitter","facebook","telegram","forum","explorer","chat","sources","contracts","crypto_common_categories","crypto_asset","dividends_availability","earnings_availability","financials_availability","etf_region_exposure","top_holdings","unit-id","options-info"]),o=new n({
fields:r})},876332:(e,t,i)=>{i.d(t,{getQuoteSessionInstance:()=>o});var s=i(11228),n=i.n(s);const r={};function o(e="full"){return r[e]||function(e="full",t){r[e]=t}(e,new(n())(e)),r[e]}},433084:(e,t,i)=>{i.d(t,{QuoteSession:()=>n});var s=i(541558);class n{constructor(e,t=(0,s.randomHash)()){this._sessionstarted=!1,this._globalHandler=null,this._chartApi=e,this._sessionid="qs_"+t}destroy(){this._sessionstarted&&(this._chartApi.quoteDeleteSession(this._sessionid),this._sessionstarted=!1)}connected(){return this._chartApi.connected()}connect(e){this._globalHandler=e,this._chartApi.createSession(this._sessionid,this),this._chartApi.connect()}disconnect(){this._chartApi.disconnect()}quoteAddSymbols(e){this._chartApi.quoteAddSymbols(this._sessionid,e)}quoteRemoveSymbols(e){this._chartApi.quoteRemoveSymbols(this._sessionid,e)}quoteFastSymbols(e){this._chartApi.quoteFastSymbols(this._sessionid,e)}quoteSetFields(e){this._chartApi.quoteSetFields(this._sessionid,e)}onMessage(e){var t;switch(e.method){case"connected":this._sessionstarted||(this._chartApi.quoteCreateSession(this._sessionid),this._sessionstarted=!0);break;case"disconnected":this._sessionstarted=!1}null===(t=this._globalHandler)||void 0===t||t.call(this,e)}quoteHibernateAll(){this._chartApi.quoteHibernateAll(this._sessionid)}}window.TradingView.QuoteSession=n},11228:(e,t,i)=>{e=i.nmd(e);var s=i(343370).default,n=i(12481).default,r=i(624444).PriceFormatter;const{uniq:o}=i(337779);var a=i(541558);const{normalizeUpdateMode:_}=i(461909);var c=i(329806).deepExtend;const{QUOTE_FIELDS_CACHE:l,QUOTE_FIELDS:d}=i(6613);var h,u=i(707957).Delegate;function p(e,t){this.options=Object.assign({throttleTimeout:125},t),this._connected=!1,this._symbol_data={},this._subscriptions={},this.onConnect=new u,this.onDisconnect=new u,this._quoteApi=new h(window.ChartApiInstance),this._type=e||"full",this._delayUpdateFastSymbols=n(this._updateFastSymbols,250),this._throttledSymbolData={},this._formatterValuesCache={},this._waitingForFormatters={},this._snapshotValuesCache={},this._waitingForSnapshot={},this.connect()}h=i(433084).QuoteSession,p.prototype.destroy=function(){this._quoteApi.destroy(),this._quoteApi=null,this._connected=!1,this.onDisconnect.fire()},p.prototype.typeFields={},p.prototype.typeFields.simple=["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume","value_unit_id"],p.prototype.typeFields.simpleDetailed=[].concat(p.prototype.typeFields.simple,["ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"]),
p.prototype.typeFields.full=[],p.prototype.typeFields.watchlist=[].concat(p.prototype.typeFields.simple,["rchp","rtc","country_code","provider_id"]),p.prototype.typeFields.portfolio=["pro_name","short_name","exchange","listed_exchange","description","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm","format","value_unit_id"],p.prototype.typeFields.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],p.prototype.typeFields.estimates=["fundamental_data","type","typespecs","earnings_per_share_forecast_next_symbol_currency_fq","earnings_release_next_aligned_date","earnings_release_next_calendar_date","earnings_release_next_date"],p.prototype.connect=function(e){this._quoteApi.connect(this.quoteHandler.bind(this))},p.prototype.quoteHandler=function(e){var t=e.method,i=e.params;switch(t){case"connected":this._connected||(this._connected=!0,this.onConnected());break;case"quote_list_fields":break;case"quote_symbol_data":this._connected&&this.onSymbolData(i[0]);break;case"quote_completed":this._connected&&this.onSymbolData({symbolname:i[0],complete:performance.now(),values:{}});break;case"disconnected":this._connected&&(this._connected=!1,this.onDisconnect.fire())}},p.prototype.onConnected=function(){this.setFields();var e=Object.keys(this._symbol_data);e.length&&(this._quoteApi.quoteAddSymbols(e),this._delayUpdateFastSymbols()),this.onConnect.fire()},p.prototype.setFields=function(){var e=p.prototype.typeFields[this._type];e&&e.length&&this._quoteApi.quoteSetFields(e)},p.prototype.onSymbolData=function(e){try{e.status&&l.update(e,d,!1)}catch(e){}var t=e.symbolname,i=this._throttledSymbolData[t];i||(i=this._throttledSymbolData[t]={fnDispatch:s(this.dipatchSymbolData.bind(this),this.options.throttleTimeout)}),i.cache?c(i.cache,e):i.cache=e,i.fnDispatch(t)},p.prototype._parseUpdateMode=function(e){_(e)},p.prototype.dipatchSymbolData=function(e){var t=this._symbol_data[e],i=this._throttledSymbolData[e].cache;if(delete this._throttledSymbolData[e].cache,this._symbol_data[e])for(var s in c(t,i),t.values&&this._parseUpdateMode(t.values),this._subscriptions){var n=this._subscriptions[s];n.has(e)&&[...n.get(e)].forEach((function(e){e(t,i)}))}},p.prototype.subscribe=function(e,t,i){this._subscriptions[e]=this._subscriptions[e]||new Map;var s=this._subscriptions[e];t=[].concat(t);var n=[];t.forEach((function(e){this._symbol_data[e]?s&&s.has(e)||this._symbol_data[e].subscribers_count++:(this._symbol_data[e]={subscribers_count:1},n.push(e)),s.has(e)||s.set(e,[]),s.get(e).push(i),
s.get(e).fast=!0,this._symbol_data[e]&&this._symbol_data[e].values&&i(this._symbol_data[e],this._symbol_data[e])}),this),n.length&&this._connected&&(this._quoteApi.quoteAddSymbols(n),this._delayUpdateFastSymbols())},p.prototype.unsubscribe=function(e,t,i){t=[].concat(t);for(var s=this._subscriptions[e],n=[],r=0;r<t.length;r++){var o=t[r];if(s)if(s.has(o)&&i){var a=s.get(o).indexOf(i);~a&&s.get(o).splice(a,1),s.get(o).length||s.delete(o)}else s.delete(o);s&&0===s.size&&delete this._subscriptions[e],this._symbol_data.hasOwnProperty(o)&&(s&&!s.has(o)&&this._symbol_data[o].subscribers_count--,this._symbol_data[o].subscribers_count||(delete this._symbol_data[o],n.push(o)))}n.length&&this._connected&&(this._quoteApi.quoteRemoveSymbols(n),this._delayUpdateFastSymbols())},p.prototype.setFastSymbols=function(e,t){if(this._subscriptions[e])for(var i=this._subscriptions[e],s=Array.from(i.keys()),n=0;n<s.length;++n){var r=s[n];i.get(r).fast=-1!==t.indexOf(r)}this._delayUpdateFastSymbols()},p.prototype._updateFastSymbols=function(){if(this._connected){var e=this._fastSymbols();0===e.length?this._quoteApi.quoteHibernateAll():this._quoteApi.quoteFastSymbols(e)}},p.prototype._delayUpdateFastSymbols=p.prototype._updateFastSymbols,p.prototype._fastSymbols=function(){var e=[];for(var t in this._subscriptions)for(var i=this._subscriptions[t],s=Array.from(i.keys()),n=0;n<s.length;++n){var r=s[n];i.get(r).fast&&e.push(r)}return e=o(e)},p.prototype.formatter=function(e,t){var i=this;if(this._waitingForFormatters[e])return this._waitingForFormatters[e];function s(e){var i=t&&!e.fractional?1:e.minmov;return new r(e.pricescale,i,e.fractional,e.minmove2)}var n=new Promise((function(t,n){if(i._formatterValuesCache[e])t(s(i._formatterValuesCache[e]));else{var r=a.guid();i.subscribe(r,[e],(function(o){"error"===o.status&&(i._waitingForFormatters[e]=null,n("Quotes snapshot is not received")),function(e){return e&&null!=e.pricescale&&null!=e.minmov}(o.values)&&(i._waitingForFormatters[e]=null,i._formatterValuesCache[e]=o.values,t(s(o.values)),i.unsubscribe(r,e))}))}}));return this._waitingForFormatters[e]=n,n},p.prototype.snapshot=function(e){var t=this;if(this._waitingForSnapshot[e])return this._waitingForSnapshot[e];var i=new Promise((function(i,s){if(t._snapshotValuesCache[e])i(t._snapshotValuesCache[e]);else{var n=a.guid();t.subscribe(n,[e],(function(r){"error"===r.status&&(t._waitingForSnapshot[e]=null,s("Quotes snapshot is not received"));var o=r.values;o&&o.minmov&&o.pricescale&&o.description&&(t._waitingForSnapshot[e]=null,t._snapshotValuesCache[e]=o,i(o),t.unsubscribe(n,e))}))}}));return this._waitingForSnapshot[e]=i,i},TradingView.QuoteSessionMultiplexer=p,e&&e.exports&&(e.exports=p)},428123:(e,t,i)=>{function s(e){const t=Object.create(e);return t.release=()=>{},t.ownership=()=>t,t}function n(e){const t=Object.create(e);return t.release=()=>e.destroy(),t.ownership=()=>t,t}i.d(t,{ownership:()=>n,weakReference:()=>s})},678515:(e,t,i)=>{function s(e,t,i){return Math.min(Math.max(e,t),i)}function n(e){return e>0?Math.floor(e):Math.ceil(e)}
i.d(t,{clamp:()=>s,toInt:()=>n})},846540:(e,t,i)=>{i.r(t),i.d(t,{types:()=>s});const s={ECONOMIC:"economic",QUANDL:"quandl"}},201089:(e,t,i)=>{i.r(t),i.d(t,{LOGLEVEL:()=>s.LOGLEVEL,getLogHistory:()=>s.getLogHistory,getLogLevel:()=>s.getLogLevel,getLogger:()=>s.getLogger,getRawLogHistory:()=>s.getRawLogHistory,isHighRateEnabled:()=>s.isHighRateEnabled,loggingOff:()=>s.loggingOff,loggingOn:()=>s.loggingOn,serializeLogHistoryEntry:()=>s.serializeLogHistoryEntry,setLogLevel:()=>s.setLogLevel});var s=i(194582)},746133:(e,t,i)=>{var s;!function(e){e.Monthly="m",e.ThreeMonths="3m",e.OneYear="y",e.TwoYears="2y"}(s||(s={}))},822122:(e,t,i)=>{var s,n,r,o;i.d(t,{ProPlans:()=>s}),function(e){e.Free="free",e.Pro="pro",e.ProTrial="pro_trial",e.ProRealtime="pro_realtime",e.ProRealtimeTrial="pro_realtime_trial",e.ProPremium="pro_premium",e.ProPremiumTrial="pro_premium_trial"}(s||(s={})),function(e){e.ProExpert="pro_expert",e.ProRealtimeExpert="pro_realtime_expert",e.PremiumExpert="pro_premium_expert"}(n||(n={})),function(e){e.Platinum="platinum",e.Gold="gold",e.Silver="silver",e.Free="free"}(r||(r={})),function(e){e[e.Platinum=3]="Platinum",e[e.Gold=2]="Gold",e[e.Silver=1]="Silver",e[e.Free=0]="Free"}(o||(o={}))},258621:(e,t,i)=>{function s(e,t){const i=t||window.locale||"en";let s=e[i]?e[i]:e.en;return s="tradingview.com"===s?"www.tradingview.com":s,s?document.location.protocol+"//"+s:""}i.d(t,{determineBaseUrl:()=>s})},397150:(e,t,i)=>{i.d(t,{showTooManyStudiesNotice:()=>a});var s=i(444372),n=i(778016),r=i(833813),o=i(779923);function a(e){"number"!=typeof e&&(e=TradingView.STUDY_COUNT_LIMIT,e=(0,n.getConfig)(r.ProductFeatures.STUDY_ON_STUDY).limit),(0,o.showWarning)({title:s.t(null,void 0,i(533603)),text:s.t(null,void 0,i(470213)).format({number:e})})}},255453:(e,t,i)=>{i.d(t,{getProductForTrial:()=>r,isTrialProduct:()=>n});i(586463),i(444372),i(822122),i(746133);const s="_trial";function n(e){return new RegExp("_trial$").test(e)}function r(e){return e.split(s)[0]}},329806:(e,t,i)=>{function s(e,...t){return e&&"object"==typeof e?(0===t.length||t.forEach((t=>{null!=t&&"object"==typeof t&&Object.keys(t).forEach((i=>{const r=e[i],o=t[i];if(o===e)return;const a=Array.isArray(o);if(o&&(n(o)||a)){let t;t=a?r&&Array.isArray(r)?r:[]:r&&n(r)?r:{},e[i]=s(t,o)}else void 0!==o&&(e[i]=o)}))})),e):e}function n(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const i=Object.hasOwnProperty.toString,s=t.hasOwnProperty("constructor")&&t.constructor;return"function"==typeof s&&i.call(s)===i.call(Object)}i.d(t,{deepExtend:()=>s})},691239:(e,t,i)=>{function s(e){const t=new URL(e,document.baseURI);return r(t)&&n(t)}i.d(t,{isInternalHost:()=>o,isSafeUrl:()=>s});const n=e=>!e.username,r=e=>"http:"===e.protocol||"https:"===e.protocol;function o(e,t=window.location.hostname){const i="."===t.slice(-1)?3:2,s=t.toLowerCase().split(".").slice(-i),n=e.toLowerCase().split(".").slice(-s.length);return s.join(".")===n.join(".")}},42398:(e,t,i)=>{i.d(t,{addUtmToUrl:()=>n});var s=i(185515)
;function n(e,t){if(!/([a-zA-Z0-9.-]*tradingview.com)|localhost/.test(e))return e;const i=(0,s.buildUtmQueryString)(t);if(""===i)return e;const n=e.indexOf("?"),r=e.indexOf("#"),o=-1!==r;if(-1!==n&&(!o||n<r)){return`${e.slice(0,n)}?${o?e.slice(n+1,r):e.slice(n+1)}&${i}${o?e.slice(r):""}`}if(o){return`${e.slice(0,r)}?${i}${e.slice(r)}`}return`${e}?${i}`}}}]);